<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">   
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <title>My to-dos</title>
</head>
<body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <div class="conteiner-fluid bg-primary text-white">
       <h1>My TO-Dos!</h1> 
    </div>



    <script type="text/javascript">
        var form
        
        function CadastrarAfazer(){
            form = document.getElementById("formAfazer");
            dadosForm = new FormData(form)
            var titulo = dadosForm.get("titulo")
            var descricao = dadosForm.get("descricao")
            var data = dadosForm.get("data")
            console.log("Titulo: " + titulo);
            console.log("Descrição: " + descricao);
            console.log("Data: " + data);
            var arrayFormData = {};
            dadosForm.forEach((valor, nome) => arrayFormData[nome] = valor);
            var json = JSON.stringify(arrayFormData);
            console.log(json)
            request= new XMLHttpRequest()
            request.open("POST", "../back-end/api/controller/create.php", true)
            request.setRequestHeader("Content-type", "application/json")
            request.send(json)
        }
          
    </script>
    
    <form id="formAfazer">
        <fieldset>
            <legend>Cadastro</legend>
            <label for="titulo">Titulo</label>
            <input type="text" name="titulo" placeholder="" autocomplete="on" required><br>
            <label for="descricao">Descrição</label>
            <input type="text" name="descricao" placeholder="" autocomplete="on" required><br>
            <label for="data">Data</label>
            <input type="date" name="data" placeholder="" autocomplete="on" required><br>
        </fieldset>
        <input type="button" value="Cadastrar afazer" onclick="CadastrarAfazer();" />
    </form>
    
    
    




    
</body>
</html>